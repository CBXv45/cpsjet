<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mama Jet | Pro Gamer Test</title>
    <style>
        /* --- GENEL AYARLAR --- */
        :root {
            --bg-body: #111111;
            --bg-panel: #181818;
            --color-orange: #ff8c00;
            --color-orange-dark: #e67e00;
            --color-blue: #4a5af5;
            --color-green: #4caf50;
            --color-red: #e74c3c;
            --text-white: #ffffff;
            --text-gray: #b0b0b0;
        }

        body {
            margin: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-body);
            color: var(--text-white);
            display: flex;
            height: 100vh;
            overflow: hidden;
        }

        /* --- SIDEBAR (SOL MEN√ú) --- */
        .sidebar {
            width: 240px;
            background-color: var(--bg-panel);
            display: flex;
            flex-direction: column;
            border-right: 1px solid #333;
            padding-top: 20px;
            z-index: 10;
        }

        .logo-title {
            color: var(--color-orange);
            font-size: 20px;
            font-weight: bold;
            padding: 0 20px 30px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .nav-link {
            padding: 15px 25px;
            color: var(--text-gray);
            cursor: pointer;
            transition: 0.2s;
            border-left: 4px solid transparent;
            font-weight: 500;
        }

        .nav-link:hover, .nav-link.active {
            background-color: #252525;
            color: white;
            border-left: 4px solid var(--color-orange);
        }

        .sidebar-footer {
            margin-top: auto;
            padding: 20px;
            border-top: 1px solid #333;
            text-align: center;
        }

        .mama-jet-logo {
            max-width: 80%;
            border-radius: 6px;
            background: white;
            padding: 5px;
        }

        /* --- ANA ƒ∞√áERƒ∞K --- */
        .main-content {
            flex: 1;
            padding: 0;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
        }

        /* SPLIT SCREEN (ƒ∞Kƒ∞Lƒ∞ EKRAN) */
        .game-split-layout {
            display: flex;
            flex: 1;
            height: 100%;
        }

        /* SOL PANEL: KLAVYE TESTƒ∞ */
        .panel-left {
            flex: 1;
            background: radial-gradient(circle at center, #1a1a2e 0%, #0f0f1a 100%);
            border-right: 1px solid #333;
            padding: 30px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        /* SAƒû PANEL: MOUSE TESTƒ∞ */
        .panel-right {
            flex: 1;
            background: radial-gradient(circle at center, #1a1a1a 0%, #050505 100%);
            padding: 30px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            overflow-y: auto;
        }

        h2.panel-title {
            text-transform: uppercase;
            letter-spacing: 2px;
            font-size: 18px;
            margin-bottom: 20px;
            opacity: 0.7;
        }

        /* --- MOUSE TESTƒ∞ Bƒ∞LE≈ûENLERƒ∞ --- */
        .click-stats {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 15px;
            width: 100%;
            max-width: 400px;
            margin-bottom: 20px;
        }
        
        .c-stat {
            background: #222;
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            border-bottom: 3px solid #444;
        }
        .c-stat span { display: block; font-size: 24px; font-weight: bold; }
        .c-stat label { font-size: 10px; text-transform: uppercase; color: #888; }

        #click-area {
            width: 100%;
            max-width: 350px;
            height: 200px;
            background: #111;
            border: 2px dashed #444;
            border-radius: 12px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 20px;
            color: #555;
            cursor: pointer;
            transition: 0.1s;
            user-select: none;
            margin-bottom: 30px;
        }
        #click-area:active { background: #161616; border-color: var(--color-orange); color: var(--color-orange); transform: scale(0.98); }

        /* YENƒ∞ S√úRE SE√áƒ∞M MEN√úS√ú */
        .time-menu-container {
            background-color: #181818;
            padding: 20px;
            border-radius: 12px;
            width: 100%;
            max-width: 350px;
        }

        .menu-title {
            color: #b0b0b0;
            text-align: center;
            font-size: 12px;
            font-weight: 700;
            margin-bottom: 15px;
            letter-spacing: 1px;
        }

        .time-btn {
            display: block;
            width: 100%;
            padding: 10px;
            margin-bottom: 6px;
            background-color: #2a2a2a;
            color: #ffffff;
            border: none;
            border-radius: 6px;
            font-size: 13px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s ease;
            text-transform: uppercase;
        }

        .time-btn:hover { background-color: #3a3a3a; }

        .time-btn.active {
            background: linear-gradient(90deg, #ff8c00, #ffba00);
            color: white;
            box-shadow: 0 4px 10px rgba(255, 140, 0, 0.2);
            transform: scale(1.01);
        }

        /* --- KLAVYE TESTƒ∞ Bƒ∞LE≈ûENLERƒ∞ --- */
        .typing-container {
            width: 100%;
            max-width: 450px;
            background: #151525;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            border: 1px solid #4a5af5;
            text-align: center;
        }

        .wpm-stats {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 15px;
        }

        .wpm-display {
            font-size: 48px;
            font-weight: bold;
            color: var(--color-blue);
            text-align: center;
            text-shadow: 0 0 15px rgba(74, 90, 245, 0.3);
        }
        
        .error-display {
            font-size: 20px;
            color: var(--color-red);
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .word-box {
            background: #0f0f15;
            padding: 15px;
            border-radius: 8px;
            font-size: 20px;
            line-height: 1.6;
            height: 80px;
            overflow: hidden;
            color: #666;
            margin-bottom: 15px;
            position: relative;
            font-family: 'Courier New', monospace;
            text-align: left;
        }

        .word-box span { margin-right: 8px; display: inline-block; }
        .word-box span.current { background: #333; color: white; border-radius: 3px; padding: 0 4px; }
        .word-box span.correct { color: var(--color-green); }
        .word-box span.wrong { color: var(--color-red); text-decoration: line-through; }

        #type-input {
            width: 90%;
            padding: 12px;
            background: #222;
            border: 1px solid #444;
            color: white;
            font-size: 18px;
            border-radius: 6px;
            outline: none;
            display: block;
            margin: 0 auto;
            text-align: center;
        }
        #type-input:focus { border-color: var(--color-blue); }

        /* MOBƒ∞L UYUM */
        @media (max-width: 800px) {
            .game-split-layout { flex-direction: column; }
            .sidebar { display: none; } /* Mobilde sidebar gizle */
            .panel-left, .panel-right { padding: 20px; border-bottom: 1px solid #333; }
        }

        /* MODAL */
        #modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 999; justify-content: center; align-items: center; backdrop-filter: blur(5px); }
        .modal-content { background: #222; padding: 30px; border-radius: 15px; text-align: center; border: 2px solid var(--color-orange); max-width: 400px; }
    </style>
</head>
<body>

    <div class="sidebar">
        <div class="logo-title">‚ö° CPSJET</div>
        <div class="nav-link active">üéÆ Oyun Alanƒ±</div>
        <div class="nav-link">üèÜ Sƒ±ralama (Yakƒ±nda)</div>
        <div class="sidebar-footer">
            <img src="mama-jet-logo.png" alt="Mama Jet" class="mama-jet-logo">
            <p style="font-size: 11px; color: #666; margin-top:5px;">Powered by Mama Jet</p>
        </div>
    </div>

    <div class="main-content">
        <div class="game-split-layout">
            
            <div class="panel-left">
                <h2 class="panel-title" style="color:var(--color-blue)">‚å®Ô∏è Klavye Hƒ±zƒ±</h2>
                
                <div class="typing-container">
                    <div class="wpm-stats">
                        <div>
                            <div style="font-size:10px; color:#888;">WPM (PUAN)</div>
                            <div class="wpm-display" id="wpm-val">0</div>
                        </div>
                        <div>
                            <div style="font-size:10px; color:#888;">HATA</div>
                            <div class="error-display" id="error-val">0</div>
                        </div>
                    </div>
                    
                    <div class="word-box" id="word-display">
                        </div>

                    <input type="text" id="type-input" placeholder="Yazmaya ba≈üla..." autocomplete="off">
                    
                    <div style="text-align:center; margin-top:15px; color:#555; font-size:12px;">
                        Kelimeleri yaz ve <b>SPACE</b> tu≈üuna bas.
                    </div>
                </div>
            </div>

            <div class="panel-right">
                <h2 class="panel-title" style="color:var(--color-orange)">üñ±Ô∏è Mouse Hƒ±zƒ±</h2>

                <div class="click-stats">
                    <div class="c-stat" style="border-color:var(--color-blue)">
                        <span id="timer">5.00</span><label>S√ºre</label>
                    </div>
                    <div class="c-stat" style="border-color:var(--color-orange)">
                        <span id="cps">0.0</span><label>CPS</label>
                    </div>
                    <div class="c-stat" style="border-color:var(--color-green)">
                        <span id="score">0</span><label>Skor</label>
                    </div>
                </div>

                <div id="click-area">
                    TIKLAMAYA BA≈ûLA
                </div>

                <div class="time-menu-container">
                    <h3 class="menu-title">SELECT TIME</h3>
                    
                    <div class="time-buttons">
                        <button class="time-btn" onclick="setMode(1, this)">1 SECOND TEST</button>
                        <button class="time-btn" onclick="setMode(2, this)">2 SECOND TEST</button>
                        <button class="time-btn active" onclick="setMode(5, this)">5 SECOND TEST</button>
                        <button class="time-btn" onclick="setMode(10, this)">10 SECOND TEST</button>
                        <button class="time-btn" onclick="setMode(15, this)">15 SECOND TEST</button>
                        <button class="time-btn" onclick="setMode(30, this)">30 SECOND TEST</button>
                        <button class="time-btn" onclick="setMode(60, this)">60 SECOND TEST</button>
                        <button class="time-btn" onclick="setMode(100, this)">100 SECOND TEST</button>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <div id="modal">
        <div class="modal-content">
            <h2 id="modal-title" style="color:var(--color-orange)">Sonu√ßlar</h2>
            <div style="font-size:40px; font-weight:bold; margin:20px 0;" id="modal-score">0</div>
            <p id="modal-desc" style="color:#aaa;">Fena Deƒüil!</p>
            <button onclick="document.getElementById('modal').style.display='none'" class="time-btn active" style="margin-top:20px;">TEKRAR DENE</button>
        </div>
    </div>

    <script>
        /* ============================
           MOUSE (CPS) TEST LOGIC
           ============================ */
        let cpsScore = 0;
        let cpsTime = 5; 
        let cpsTimeLeft = 5;
        let cpsActive = false;
        let cpsInterval;

        const timerEl = document.getElementById('timer');
        const scoreEl = document.getElementById('score');
        const cpsEl = document.getElementById('cps');
        const clickArea = document.getElementById('click-area');

        function setMode(seconds, btn) {
            if(cpsActive) return;
            cpsTime = seconds;
            cpsTimeLeft = seconds;
            timerEl.textContent = seconds.toFixed(2);
            document.querySelectorAll('.time-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
        }

        clickArea.addEventListener('mousedown', () => {
            if(!cpsActive && cpsTimeLeft > 0) startCpsGame();
            if(cpsActive) {
                cpsScore++;
                scoreEl.textContent = cpsScore;
                clickArea.style.transform = "scale(0.95)";
                setTimeout(() => clickArea.style.transform = "scale(1)", 50);
            }
        });

        function startCpsGame() {
            cpsActive = true;
            cpsScore = 0;
            scoreEl.textContent = "0";
            clickArea.textContent = "HIZLI OL!";
            clickArea.style.borderColor = "#ff8c00";
            clickArea.style.color = "white";

            cpsInterval = setInterval(() => {
                cpsTimeLeft -= 0.01;
                timerEl.textContent = Math.max(0, cpsTimeLeft).toFixed(2);
                let elapsed = cpsTime - cpsTimeLeft;
                if(elapsed > 0.1) cpsEl.textContent = (cpsScore / elapsed).toFixed(1);
                if(cpsTimeLeft <= 0) endCpsGame();
            }, 10);
        }

        function endCpsGame() {
            clearInterval(cpsInterval);
            cpsActive = false;
            cpsTimeLeft = cpsTime; 
            timerEl.textContent = cpsTime.toFixed(2);
            clickArea.textContent = "TEKRAR";
            clickArea.style.borderColor = "#444";
            clickArea.style.color = "#555";
            showModal("CPS Testi Bitti!", `${(cpsScore / cpsTime).toFixed(2)} CPS`, "Parmaklarƒ±n motor gibi √ßalƒ±≈üƒ±yor!");
        }

        /* ============================
           KEYBOARD (WPM) TEST LOGIC
           ============================ */
        const words = [
            "mama", "jet", "hƒ±z", "test", "kedi", "k√∂pek", "ticaret", "online", 
            "ba≈üarƒ±", "kod", "oyun", "sistem", "g√º√ßl√º", "klavye", "mouse", 
            "ekran", "internet", "proje", "marka", "grafik", "yazƒ±lƒ±m", "d√ºnya",
            "pilot", "u√ßak", "hƒ±zlƒ±", "s√ºper", "harika", "rekor", "lider"
        ];
        
        let wordList = [];
        let currentWordIndex = 0;
        let correctChars = 0;
        let errorCount = 0; // Hata sayacƒ±
        let wpmStartTime = null;
        let wpmInterval;

        const wpmDisplay = document.getElementById('wpm-val');
        const errorDisplay = document.getElementById('error-val');
        const wordBox = document.getElementById('word-display');
        const input = document.getElementById('type-input');

        function initTyping() {
            wordList = [];
            for(let i=0; i<50; i++) {
                wordList.push(words[Math.floor(Math.random() * words.length)]);
            }
            renderWords();
        }

        function renderWords() {
            wordBox.innerHTML = '';
            wordList.forEach((word, index) => {
                const span = document.createElement('span');
                span.textContent = word;
                if(index === currentWordIndex) span.className = 'current';
                wordBox.appendChild(span);
            });
            const activeSpan = wordBox.children[currentWordIndex];
            if(activeSpan) wordBox.scrollTop = activeSpan.offsetTop - 20;
        }

        input.addEventListener('input', (e) => {
            if(!wpmStartTime) {
                wpmStartTime = Date.now();
                startWpmTimer();
            }

            const val = input.value;
            const currentWord = wordList[currentWordIndex];

            // Space'e basƒ±ldƒ± mƒ±?
            if(val.endsWith(' ')) {
                const typedWord = val.trim();
                const span = wordBox.children[currentWordIndex];
                
                if(typedWord === currentWord) {
                    // DOƒûRU ƒ∞SE PUAN VER
                    span.className = 'correct';
                    correctChars += currentWord.length + 1; 
                } else {
                    // YANLI≈û ƒ∞SE PUAN VERME, HATA SAYISINI ARTIR
                    span.className = 'wrong';
                    errorCount++;
                    errorDisplay.textContent = errorCount; // Ekrana yaz
                }

                currentWordIndex++;
                input.value = '';
                renderWords();
            }
        });

        function startWpmTimer() {
            wpmInterval = setInterval(() => {
                const timeInMinutes = (Date.now() - wpmStartTime) / 60000;
                if(timeInMinutes > 0) {
                    // Sadece doƒüru karakterler hesaba katƒ±lƒ±r
                    const wpm = Math.round((correctChars / 5) / timeInMinutes);
                    wpmDisplay.textContent = wpm;
                }
                if(timeInMinutes >= 1) {
                    clearInterval(wpmInterval);
                    input.disabled = true;
                    showModal("Klavye Testi Bitti!", wpmDisplay.textContent + " WPM", `Toplam ${errorCount} hata yaptƒ±n.`);
                }
            }, 500);
        }

        /* ORTAK FONKSƒ∞YONLAR */
        function showModal(title, score, desc) {
            document.getElementById('modal-title').textContent = title;
            document.getElementById('modal-score').textContent = score;
            document.getElementById('modal-desc').textContent = desc;
            document.getElementById('modal').style.display = 'flex';
        }

        initTyping();

    </script>
</body>
</html>
